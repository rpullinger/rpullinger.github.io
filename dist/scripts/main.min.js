var Particle=function(t,i,n,e,s,o){var t=t,s=s||5,r={x:Math.cos(e*Math.PI/180)*s,y:-Math.sin(e*Math.PI/180)*s};this.pos={x:i||0,y:n||0},this.update=function(){this.pos.x+=r.x,this.pos.y+=r.y,this.pos.x<0&&(this.pos.x=window.innerWidth),this.pos.y<0&&(this.pos.y=window.innerHeight),this.pos.x>window.innerWidth&&(this.pos.x=0),this.pos.y>window.innerHeight&&(this.pos.y=0),this.draw(),this.link()},this.draw=function(){t.strokeStyle="#ffffff",t.rect(this.pos.x,this.pos.y,1,1),t.strokeStyle="rgba(255, 255, 255, 0.03)",t.stroke()},this.link=function(){var i=this;_.each(site.particles,function(n){n!==i&&site.getDistance(n,i)<o&&(t.beginPath(),t.moveTo(n.pos.x,n.pos.y),t.lineTo(i.pos.x,i.pos.y),t.strokeStyle="rgba(255, 255, 255, 0.03)",t.stroke())})}},site=function(){function t(){s(),i(),requestAnimationFrame(n)}function i(){h.width=window.innerWidth,h.height=window.innerHeight}function n(){h.width=h.width,_.invoke(d,"update"),requestAnimationFrame(n)}function e(t,i){var n=t.pos.x-i.pos.x,e=t.pos.y-i.pos.y;return Math.sqrt(n*n+e*e)}function s(){window.addEventListener("resize",_.debounce(i,500),!1)}var o=300,r=_.random(10,50),h=document.querySelector("canvas"),a=h.getContext("2d"),d=_(o).times(function(t){return new Particle(a,t*(window.innerWidth/o),window.innerHeight/o*t,_.random(0,360),_.random(.5,1),r)});return{start:t,particles:d,getDistance:e}}();site.start();